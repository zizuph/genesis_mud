REVIEW OF THE TEMPLAR GUILD. Guild coded by Louie, review by Bishop.

The proposed guild has three specials. One, called tattack, is a simple damage
special. It works in an equivalent manner to other such specials in the game. 
Another special is a defensive special called tfocus, blocking out a certain 
percentage of attacks in the same way as the mercenary shield skill. It cannot
be used at the same time as you're using the tattack special. The last special
is called tsap, and is a damage + stunning special that can only be used to
start a fight. I'll go through each of the three in order.

TATTACK:

Other comparable layman combat specials:
-------------
Blademasters:
10 sec prep, 15 sec reset = 25 sec cycle time.
To hit value: Around 80-90, capped at 90.
Damage normally: F_PENMOD(80, 100) = 526 pen.
Comments: This special hits the ceiling of F_PENMOD(100, 100) pretty easily.
          If you have sup guru sword, you'll get F_PENMOD(100,100) with a 50
          pen weapon and a guildstat of 100.

Militia jab:
14 sec cycle time.
To hit value: 110.
Damage normally: F_PENMOD(58, 61) = 312 pen.
Comments: The most important variables are the weapon stats, player stats do not 
          contribute hugely. For 200 in all stats and a 60/60 weapon, you get 
          F_PENMOD(63, 66) = 349 pen.

Shieldbearer bash:
30 + random(8)  = 33.5 sec cycle time
To hit value: 80.
Damage normally: Uses a custom formula, ends up at 577 pen for average stat
                 and skill values.
Comments: Also stuns target, pen capped at 800.

Minotaur gore:
25 sec cycle time.
To hit value: 85.
Damage normally: F_PENMOD(44, 100) = 302 pen.
Comments: Can't wear helmet while using. Pen increases in a linear fashion
          with strength and guildstat - with 200 guildstat and strength, 
          you get F_PENMOD(87, 100) = 573 pen.

-----------

The proposed damage special for the Templars has a 20 sec cycle time. The hit
value is set at 85, and uses F_PENMOD(SS_DEX/6 + SS_WIS/6, GUILD_ATTACK_SKILL).
The guild skill is capped at 90, so for 100 dex and wis, you get the average 
pen of F_PENMOD(34, 90) = 233 pen. The formula increases linearly, so with 200 
stats you get F_PENMOD(68, 90) = 427 pen.

Looking at the code and documentation this special looks entirely reasonable
compared to other lay specials in the game. It is about on par with the 
minotaur special. An advantage it has over other lay specials is that it can
used regardless of whether you're wielding a weapon or the quality of that
weapon.

While not a balance concern directly, I'd like to note that guild experience
has no impact on the success of the special. Therefore someone just joining 
the guild will be equally effective as someone who's been a veteran of years.
To reward guild loyalty I'd advise introducing the guild stat into the 
formulas.

The combat aid given by the special is ~16%, which gives it a tax value of 3%.

TFOCUS:

Again, a very straightforward special. Using query_not_attack_me() in the guild
shadow, this ability stops up to 20% of all attacks against the templar when
activated. If the 20% check succeeds, a resisted task between the defender and
attacker is resolved, to determine if the blow is evaded. This task is heavily
skewed towards the defender, so for typical values of stats and skills, the 
ability will be activated about 19.5% of the time.

Tax for this ability has been calculated on the basis of 20% blow avoidance
beomg equivalent to 20% combat aid, so tax comes out to four percent when 
rounded upwards (1% per 6% combat aid). There are problems with evaluating tax 
for this special like this though. If you use this simple formula, 100% blow 
avoidance would be 100% combat aid - however, if your enemies never hit you and
cannot win, you in practice have infinite combat aid. I propose this as a
better formula CAID = 100*(dodge %)*/(100 - dodge%). Here 50% dodging is 
actually 100% combat aid. You are 100% more effective because you only take 
half damage. Using this formula you get the following tax calc for the TFOCUS:
CAID = 100*(19.5)/(100 - 19.5) = 24.2% -> comes down to slightly over 4% tax.

TSAP:

This special can only be used to start a combat, and does not work on someone
already in combat. It can be used independently of TATTACK and TFOCUS. When a 
target is hit with it, a prop is set in them with a timestamp. Until 360 
seconds have passed, that target cannot be hit with sap again. The damage is 
about twice what the damage on TATTACK is - F_PENMOD(SS_DEX/3 + SS_WIS/3, 
GUILD_SAP_SKILL), except sap is trainable to 100 as opposed to 90 for TATTACK.
The pen for someone with 100 stats and maxed skills is 434. In addition to the
damage, the target receives an add_stun that lasts for 5 + random(11) seconds,
10 on average. The to hit value for this special is the same as for TATTACK, 
85.

I do not agree with the way tax has been calculated in the documentation here.
Since a target becomes immune for 360 seconds after being sapped, this amount
of time is treated as the reset time. It isn't though, if the target is dead 
after 30 seconds, the templar is free to attack someone else with TSAP with no
restrictions. In situations where the templar is part of a team of four, for
instance, and they are killing npcs at a fast rate, TSAP may actually be quite 
a bit better than TATTACK is.

Because 360 seconds is treated as the reset time, equivalent to hitting once 
every 60 rounds, they arrive at a combat aid of ~2% for the damage part of the
special and 2.77% for the stun part, taxing the whole thing at 1%. 

In a more realistic use of this ability, a fight can be expected to last about
30 seconds, so let's use that as the reset time for tax purposes. First the 
stun part: 10 seconds is 1/3 of the combat. As with my example above under 
TFOCUS, if your opponent is stunned 100% of the time you get effectively 
infinite combat aid. The same formula is usable here: 
STUN CAID = 100*33(100-33) = 50%.
For the damage part, you get 434 damage every 5 rounds (30 secs = 5 rounds). 
With standard weapon damage being 280, you get:
DAMAGE CAID = (1/5)*(434/280) = 31%. 
The special has a to hit number of 85, which means you hit 78% of the time.
TOTAL CAID FOR TSAP = (STUN CAID + DAMAGE CAID)*78/100 = 63.18%. So we see that
this special would be taxed at 11% in this example, and give quite a bit more 
combat aid than is allowed for layman guilds.

I propose that the special either be downgraded in terms of damage and stun, or
(more preferably) given a hard timer of 360 seconds.

My above comments under TATTACK about guild stat not being a part of the 
formulas applies here as well of course.

SKILLS:

I looked through the skill training caps and tax calc for the skills. The guild
is within the 350 taxable slot limit for layman guids, but from what I can see
the tax modifiers haven't been added correctly. In the SKILLS_TAX they arrive
at 285 slots including tax modifiers, but they forgot the 1.5 tax multiplier for
training SS_DEFENCE, so the total for tax purposes should be 300, which is 5%
tax.

OTHER:

Anything else we should be looking at?




